{"version":3,"sources":["Components/Publications/Publications.module.css","Components/Publications/Publication.js","Components/Controls/Counter.js","Components/Controls/Controls.js","Components/Publications/Reader.js","Components/App/App.js","index.js","Components/Controls/Controls.module.css"],"names":["module","exports","reader","publication","Publication","_ref","react_default","a","createElement","className","styles","title","text","Counter","count","items","Fragment","counter","length","Controls","handleChangeArticle","disabledNext","disabledBack","controls","type","name","button","onClick","e","disabled","defaultProps","getItemFromLocation","location","Math","floor","Number","queryString","parse","search","item","Reader","state","target","_this$props","_this","props","history","searchNum","push","Object","objectSpread","concat","_this$props2","this","publications","replace","_this$props3","index","Publications_Publication","Controls_Counter","Components_Controls_Controls","Component","App","react_router","path","component","from","to","ReactDOM","render","react_router_dom","basename","document","getElementById"],"mappings":"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","file":"static/js/main.cebbd59a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"reader\":\"Publications_reader__MjDsS\",\"publication\":\"Publications_publication__1wwao\"};","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport styles from './Publications.module.css';\n\nconst Publication = ({ publication }) => (\n  <article className={styles.publication}>\n    <h2>{publication.title}</h2>\n    <p>{publication.text}</p>\n  </article>\n);\n\nPublication.propTypes = {\n  publication: PropTypes.objectOf(PropTypes.string.isRequired).isRequired,\n};\n\nexport default Publication;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport styles from './Controls.module.css';\n\nconst Counter = ({ count, items }) => (\n  <>\n    <p className={styles.counter}>\n      {count}/{items.length}\n    </p>\n  </>\n);\n\nCounter.propTypes = {\n  count: PropTypes.number.isRequired,\n  items: PropTypes.instanceOf(Array).isRequired,\n};\n\nexport default Counter;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport styles from './Controls.module.css';\n\nconst Controls = ({ handleChangeArticle, disabledNext, disabledBack }) => (\n  <section className={styles.controls}>\n    <button\n      type=\"button\"\n      name=\"back\"\n      className={styles.button}\n      onClick={e => handleChangeArticle(e)}\n      disabled={disabledBack}\n    >\n      Назад\n    </button>\n    <button\n      type=\"button\"\n      name=\"forward\"\n      className={styles.button}\n      onClick={e => handleChangeArticle(e)}\n      disabled={disabledNext}\n    >\n      Вперед\n    </button>\n  </section>\n);\n\nControls.defaultProps = {\n  disabledNext: false,\n  disabledBack: false,\n};\n\nControls.propTypes = {\n  handleChangeArticle: PropTypes.func.isRequired,\n  disabledNext: PropTypes.bool,\n  disabledBack: PropTypes.bool,\n};\n\nexport default Controls;\n","import React, { Component } from 'react';\nimport queryString from 'query-string';\nimport ReactRouterPropTypes from 'react-router-prop-types';\nimport styles from './Publications.module.css';\nimport Publication from './Publication';\nimport Counter from '../Controls/Counter';\nimport Controls from '../Controls/Controls';\nimport publications from '../../resources/publications.json';\n\nconst START_PAGE = 1;\n\nconst getItemFromLocation = location =>\n  Math.floor(Number(queryString.parse(location.search).item));\nexport default class Reader extends Component {\n  static propTypes = {\n    location: ReactRouterPropTypes.location.isRequired,\n    history: ReactRouterPropTypes.history.isRequired,\n  };\n\n  state = {};\n\n  componentDidMount() {\n    const { location, history } = this.props;\n\n    const searchNum = getItemFromLocation(location);\n\n    if (searchNum > publications.length || searchNum < 1 || !searchNum) {\n      return history.replace({\n        ...location,\n        search: `item=${START_PAGE}`,\n      });\n    }\n\n    return history.push({\n      ...location,\n      search: `item=${searchNum}`,\n    });\n  }\n\n  componentDidUpdate() {\n    const { location, history } = this.props;\n    const searchNum = getItemFromLocation(location);\n\n    if (searchNum > publications.length || searchNum < 1 || !searchNum) {\n      history.replace({\n        ...location,\n        search: `item=${START_PAGE}`,\n      });\n    }\n  }\n\n  handleChangeArticle = ({ target: { name } }) => {\n    const { location, history } = this.props;\n    const searchNum = getItemFromLocation(location);\n\n    if (name === 'forward') {\n      history.push({ ...location, search: `item=${searchNum + 1}` });\n    }\n\n    if (name === 'back') {\n      history.push({ ...location, search: `item=${searchNum - 1}` });\n    }\n  };\n\n  render() {\n    const { location } = this.props;\n    const searchNum = getItemFromLocation(location);\n    const index =\n      searchNum > publications.length || searchNum < 1 || !searchNum\n        ? 1\n        : searchNum;\n    const publication = publications[index - 1];\n\n    return (\n      <div className={styles.reader}>\n        <Publication publication={publication} />\n        <Counter items={publications} count={index} />\n        <Controls\n          disabledNext={index === publications.length}\n          disabledBack={index === START_PAGE}\n          handleChangeArticle={this.handleChangeArticle}\n        />\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport { Route, Redirect, Switch } from 'react-router-dom';\n\nimport Reader from '../Publications/Reader';\n\nconst App = () => (\n  <Switch>\n    <Route path=\"/reader\" component={Reader} />\n    <Redirect from=\"/*\" to=\"/reader\" />\n  </Switch>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Route, HashRouter } from 'react-router-dom';\nimport App from './Components/App/App';\n\nReactDOM.render(\n  <HashRouter basename=\"/\">\n    <Route component={App} />\n  </HashRouter>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"controls\":\"Controls_controls__4KAjc\",\"button\":\"Controls_button__1CgAU\",\"counter\":\"Controls_counter__94U8T\"};"],"sourceRoot":""}